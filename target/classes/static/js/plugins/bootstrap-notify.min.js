(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?d(require("jquery")):d(jQuery)})(function(d){function k(a){var b=!1;d('[data-notify\x3d"container"]').each(function(c,e){c=d(e);e=c.find('[data-notify\x3d"title"]').text().trim();var f=c.find('[data-notify\x3d"message"]').html().trim();e=e===d("\x3cdiv\x3e"+a.settings.content.title+"\x3c/div\x3e").html().trim();f=f===d("\x3cdiv\x3e"+a.settings.content.message+"\x3c/div\x3e").html().trim();c=c.hasClass("alert-"+
a.settings.type);e&&f&&c&&(b=!0);return!b});return b}function h(a,b,c){c=d.extend(!0,{},{content:{message:"object"===typeof b?b.message:b,title:b.title?b.title:"",icon:b.icon?b.icon:"",url:b.url?b.url:"#",target:b.target?b.target:"-"}},c);this.settings=d.extend(!0,{},g,c);this._defaults=g;"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target);this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"};
"number"===typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset});(this.settings.allow_duplicates||!this.settings.allow_duplicates&&!k(this))&&this.init()}var g={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5E3,timer:1E3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},
onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'\x3cdiv data-notify\x3d"container" class\x3d"col-11 col-md-4 alert alert-{0}" role\x3d"alert"\x3e\x3cbutton type\x3d"button" aria-hidden\x3d"true" class\x3d"close" data-notify\x3d"dismiss"\x3e\x3ci class\x3d"material-icons"\x3eclose\x3c/i\x3e\x3c/button\x3e\x3ci data-notify\x3d"icon" class\x3d"material-icons"\x3e\x3c/i\x3e\x3cspan data-notify\x3d"title"\x3e{1}\x3c/span\x3e \x3cspan data-notify\x3d"message"\x3e{2}\x3c/span\x3e\x3cdiv class\x3d"progress" data-notify\x3d"progressbar"\x3e\x3cdiv class\x3d"progress-bar progress-bar-{0}" role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemin\x3d"0" aria-valuemax\x3d"100" style\x3d"width: 0%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca href\x3d"{3}" target\x3d"{4}" data-notify\x3d"url"\x3e\x3c/a\x3e\x3c/div\x3e'};
String.format=function(){for(var a=arguments[0],b=1;b<arguments.length;b++)a=a.replace(RegExp("\\{"+(b-1)+"\\}","gm"),arguments[b]);return a};d.extend(h.prototype,{init:function(){var a=this;this.buildNotify();this.settings.content.icon&&this.setIcon();"#"!=this.settings.content.url&&this.styleURL();this.styleDismiss();this.placement();this.bind();this.notify={$ele:this.$ele,update:function(b,d){var e={};"string"===typeof b?e[b]=d:e=b;for(var c in e)switch(c){case "type":this.$ele.removeClass("alert-"+
a.settings.type);this.$ele.find('[data-notify\x3d"progressbar"] \x3e .progress-bar').removeClass("progress-bar-"+a.settings.type);a.settings.type=e[c];this.$ele.addClass("alert-"+e[c]).find('[data-notify\x3d"progressbar"] \x3e .progress-bar').addClass("progress-bar-"+e[c]);break;case "icon":b=this.$ele.find('[data-notify\x3d"icon"]');"class"===a.settings.icon_type.toLowerCase()?b.html(e[c]):(b.is("img")||b.find("img"),b.attr("src",e[c]));break;case "progress":this.$ele.data("notify-delay",a.settings.delay-
e[c]/100*a.settings.delay);this.$ele.find('[data-notify\x3d"progressbar"] \x3e div').attr("aria-valuenow",e[c]).css("width",e[c]+"%");break;case "url":this.$ele.find('[data-notify\x3d"url"]').attr("href",e[c]);break;case "target":this.$ele.find('[data-notify\x3d"url"]').attr("target",e[c]);break;default:this.$ele.find('[data-notify\x3d"'+c+'"]').html(e[c])}e=this.$ele.outerHeight()+parseInt(a.settings.spacing)+parseInt(a.settings.offset.y);a.reposition(e)},close:function(){a.close()}}},buildNotify:function(){var a=
this.settings.content;this.$ele=d(String.format(this.settings.template,this.settings.type,a.title,a.message,a.url,a.target));this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align);this.settings.allow_dismiss||this.$ele.find('[data-notify\x3d"dismiss"]').css("display","none");(0>=this.settings.delay&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify\x3d"progressbar"]').remove()},setIcon:function(){this.$ele.addClass("alert-with-icon");
"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify\x3d"icon"]').html(this.settings.content.icon):this.$ele.find('[data-notify\x3d"icon"]').is("img")?this.$ele.find('[data-notify\x3d"icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify\x3d"icon"]').append('\x3cimg src\x3d"'+this.settings.content.icon+'" alt\x3d"Notify Icon" /\x3e')},styleDismiss:function(){this.$ele.find('[data-notify\x3d"dismiss"]').css({position:"absolute",right:"10px",top:"50%",
marginTop:"-9px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify\x3d"url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var a=this,b=this.settings.offset.y,c={display:"inline-block",margin:"15px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?
"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},e=!1,f=this.settings;d('[data-notify-position\x3d"'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing\x3d"true"])').each(function(){b=Math.max(b,parseInt(d(this).css(f.placement.from))+parseInt(d(this).outerHeight())+parseInt(f.spacing))});!0===this.settings.newest_on_top&&(b=this.settings.offset.y);c[this.settings.placement.from]=b+"px";switch(this.settings.placement.align){case "left":case "right":c[this.settings.placement.align]=
this.settings.offset.x+"px";break;case "center":c.left=0,c.right=0}this.$ele.css(c).addClass(this.settings.animate.enter);d.each(["webkit-","moz-","o-","ms-",""],function(b,c){a.$ele[0].style[c+"AnimationIterationCount"]=1});d(this.settings.element).append(this.$ele);!0===this.settings.newest_on_top&&(b=parseInt(b)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(b));d.isFunction(a.settings.onShow)&&a.settings.onShow.call(this.$ele);this.$ele.one(this.animations.start,function(){e=
!0}).one(this.animations.end,function(){d.isFunction(a.settings.onShown)&&a.settings.onShown.call(this)});setTimeout(function(){e||d.isFunction(a.settings.onShown)&&a.settings.onShown.call(this)},600)},bind:function(){var a=this;this.$ele.find('[data-notify\x3d"dismiss"]').on("click",function(){a.close()});this.$ele.mouseover(function(){d(this).data("data-hover","true")}).mouseout(function(){d(this).data("data-hover","false")});this.$ele.data("data-hover","false");if(0<this.settings.delay){a.$ele.data("notify-delay",
a.settings.delay);var b=setInterval(function(){var c=parseInt(a.$ele.data("notify-delay"))-a.settings.timer;if("false"===a.$ele.data("data-hover")&&"pause"===a.settings.mouse_over||"pause"!=a.settings.mouse_over){var d=(a.settings.delay-c)/a.settings.delay*100;a.$ele.data("notify-delay",c);a.$ele.find('[data-notify\x3d"progressbar"] \x3e div').attr("aria-valuenow",d).css("width",d+"%")}c<=-a.settings.timer&&(clearInterval(b),a.close())},a.settings.timer)}},close:function(){var a=this,b=parseInt(this.$ele.css(this.settings.placement.from)),
c=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit);a.reposition(b);d.isFunction(a.settings.onClose)&&a.settings.onClose.call(this.$ele);this.$ele.one(this.animations.start,function(){c=!0}).one(this.animations.end,function(){d(this).remove();d.isFunction(a.settings.onClosed)&&a.settings.onClosed.call(this)});setTimeout(function(){if(!c&&(a.$ele.remove(),a.settings.onClosed))a.settings.onClosed(a.$ele)},600)},reposition:function(a){var b=this,c='[data-notify-position\x3d"'+
this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing\x3d"true"])',e=this.$ele.nextAll(c);!0===this.settings.newest_on_top&&(e=this.$ele.prevAll(c));e.each(function(){d(this).css(b.settings.placement.from,a);a=parseInt(a)+parseInt(b.settings.spacing)+d(this).outerHeight()})}});d.notify=function(a,b){return(new h(this,a,b)).notify};d.notifyDefaults=function(a){return g=d.extend(!0,{},g,a)};d.notifyClose=function(a){"undefined"===typeof a||"all"===a?d("[data-notify]").find('[data-notify\x3d"dismiss"]').trigger("click"):
d('[data-notify-position\x3d"'+a+'"]').find('[data-notify\x3d"dismiss"]').trigger("click")}});