$(document).ready(function(){function J(a,b){a.preventDefault();a.stopImmediatePropagation();replaceHTML("successMessage","");replaceHTML("errorMessage","");var c=!0;a=document.getElementById("amount").value;if(null==a||""==a)v("#errorMessage",'\x3cdiv class\x3d"row ml-auto mr-auto"\x3e\x3ci class\x3d"material-icons red-icon"\x3ehighlight_off\x3c/i\x3e\x3cp class\x3d"margin-bottom-zero red-icon margin-left-five"\x3ePlease fill the Amount.\x3c/p\x3e\x3c/div\x3e \x3cbr/\x3e',2E3),c=!1;a=l(a);0==a&&
(v("#errorMessage",'\x3cdiv class\x3d"row ml-auto mr-auto"\x3e\x3ci class\x3d"material-icons red-icon"\x3ehighlight_off\x3c/i\x3e\x3cp class\x3d"margin-bottom-zero red-icon margin-left-five"\x3eAmount cannot be zero.\x3c/p\x3e\x3c/div\x3e \x3cbr/\x3e',2E3),c=!1);if(c){a=Math.abs(a);var c=document.getElementById("description").value,d=document.getElementById("categoryOptions").value,e={};e.amount=a;e.description=c;e.categoryOptions=d;$.ajax({type:"POST",url:saveTransactionsUrl+currentUser.financialPortfolioId,
dataType:"json",data:e,success:function(a){a=document.getElementById("successMessage");z=cloneElementAndAppend(a,z);a.classList.add("messageFadeInAndOut");n=!0;b.removeAttribute("disabled")},error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")&&($("#GSCCModal").modal("hide"),m(a));v("#errorMessage",'\x3cdiv class\x3d"row ml-auto mr-auto"\x3e\x3ci class\x3d"material-icons red-icon"\x3ehighlight_off\x3c/i\x3e\x3cp class\x3d"margin-bottom-zero red-icon margin-left-five"\x3eUnable to add this transaction.\x3c/p\x3e\x3c/div\x3e \x3cbr/\x3e',
2E3);n=!1;b.removeAttribute("disabled")}})}else b.removeAttribute("disabled")}function v(a,b,c){$(a).fadeIn("slow").show().append(b);setTimeout(function(){$(a).fadeOut()},c)}function A(){jQuery.ajax({url:transactionAPIUrl+currentUser.financialPortfolioId,type:"GET",success:function(a){var b=0,c=0,d=document.createDocumentFragment(),e=document.getElementById("productsJson");$("#checkAll").prop("checked",!1);for(var f=0,k=Object.keys(a).length;f<k;f++){for(var r=Object.keys(a)[f],t=a[r],m=document.createDocumentFragment(),
l=0,n=0,q=Object.keys(t).length;n<q;n++){var u=Object.keys(t)[n],u=t[u];m.appendChild(B(u,"d-none",r));l+=u.amount}t=g+h(l,currentUser.locale);d.appendChild(K(r,f,t));d.appendChild(m);categoryMap[r].parentCategory==expenseCategory?b+=l:categoryMap[r].parentCategory==incomeCategory&&(c+=l)}0==a.length?(e.innerHTML="",document.getElementById("productsJson").appendChild(C())):(e.innerHTML="",e.appendChild(d));p();D(c,b)}})}function D(a,b){var c=a-b;0>c?replaceHTML("totalAvailableTransactions","-"+g+
h(Math.abs(c),currentUser.locale)):replaceHTML("totalAvailableTransactions",g+h(c,currentUser.locale));replaceHTML("totalIncomeTransactions",g+h(a,currentUser.locale));replaceHTML("totalExpensesTransactions","-"+g+h(b,currentUser.locale));L(E(a,b),"chartFinancialPosition")}function E(a,b){var c={};0===a&&0===b?replaceHTML("legendPieChart","Please fill in adequare data build the chart"):a<b?(c=b-a,a=round(c/b*100,1),b=round((b-c)/b*100,1),c={labels:[b+"%",,a+"%"],series:[b,,a]},replaceHTML("legendPieChart",
"Total Income \x26 Total Overspent as a percentage of Total Expense"),replaceHTML("totalAvailableLabel","Total Overspent")):(c=a-b,b=round(c/a*100,1),a=round((a-c)/a*100,1),c={labels:[,a+"%",b+"%"],series:[,a,b]},replaceHTML("legendPieChart","Total Expense \x26 Total Available as a percentage of Total Income"),replaceHTML("totalAvailableLabel","Total Available"));return c}function B(a,b,c){var d=document.createElement("div");d.className="hideableRow-"+c+" hideableRow "+b;b=document.createElement("div");
b.className="text-center d-lg-table-cell draggable-handle-wrapper";b.tabIndex=-1;b.innerHTML="";b.draggable=!0;F=cloneElementAndAppend(b,F);d.appendChild(b);b=document.createElement("div");b.className="form-check";b.tabIndex=-1;var e=document.createElement("label");e.className="form-check-label";e.tabIndex=-1;var f=document.createElement("input");f.className="number form-check-input";f.type="checkbox";f.innerHTML=a.transactionId;f.tabIndex=-1;var k=document.createElement("span");k.className="form-check-sign";
k.tabIndex=-1;var g=document.createElement("span");g.className="check";k.appendChild(g);e.appendChild(f);e.appendChild(k);b.appendChild(e);e=document.createElement("div");e.tabIndex=-1;e.className="d-lg-table-cell text-center";e.appendChild(b);d.appendChild(e);b=document.createElement("div");b.className="d-lg-table-cell";e=document.createElement("select");e.setAttribute("id","selectCategoryRow-"+a.transactionId);e.className="tableRowForSelectCategory categoryIdForSelect-"+c+" tableRowSelectCategory";
e.setAttribute("aria-haspopup",!0);e.setAttribute("aria-expanded",!1);f=document.createElement("optgroup");f.label="Expenses";expenseSelectionOptGroup=cloneElementAndAppend(f,expenseSelectionOptGroup);e.appendChild(f);f=document.createElement("optgroup");f.label="Income";incomeSelectionOptGroup=cloneElementAndAppend(f,incomeSelectionOptGroup);e.appendChild(f);b.appendChild(e);d.appendChild(b);b=document.createElement("div");b.setAttribute("id","descriptionTransactionsRow-"+a.transactionId);b.className=
"transactionsTableDescription d-lg-table-cell";b.setAttribute("data-gramm_editor",!1);b.tabIndex=-1;e=document.createElement("div");e.setAttribute("contenteditable",!0);e.tabIndex=0;e.className="descriptionDivCentering";e.innerHTML=a.description;b.appendChild(e);d.appendChild(b);b=document.createElement("div");b.setAttribute("id","amountTransactionsRow-"+a.transactionId);b.className="text-right amountTransactionsRow d-lg-table-cell";b.setAttribute("data-gramm_editor",!1);b.tabIndex=-1;e=document.createElement("div");
e.setAttribute("contenteditable",!0);e.className="amountDivCentering";e.tabIndex=0;e.innerHTML=categoryMap[c].parentCategory==expenseCategory?"-"+$("#currentCurrencySymbol").text()+h(a.amount,currentUser.locale):$("#currentCurrencySymbol").text()+h(a.amount,currentUser.locale);b.appendChild(e);d.appendChild(b);b=document.createElement("div");b.setAttribute("id","budgetTransactionsRow-"+a.transactionId);b.className="text-right d-lg-table-cell categoryIdForBudget-"+c;b.tabIndex=-1;b.innerHTML=0==a.amount?
'\x3cbutton class\x3d"btn btn-danger btn-sm removeRowTransaction"\x3eRemove\x3c/button\x3e':"";d.appendChild(b);return d}function K(a,b,c){b=document.createElement("div");b.setAttribute("id","categoryTableRow-"+a);b.setAttribute("data-toggle","collapse");b.setAttribute("role","button");b.className=categoryMap[a].parentCategory==expenseCategory?"toggle d-lg-table-row expenseCategory categoryTableRow-"+a:"toggle d-lg-table-row incomeCategory categoryTableRow-"+a;var d=document.createElement("div");
d.className="text-center d-lg-table-cell dropdown-toggle-right font-17";b.appendChild(d);d=document.createElement("div");d.tabIndex=-1;d.className="d-lg-table-cell";b.appendChild(d);d=document.createElement("div");d.className="font-weight-bold d-lg-table-cell";var e=document.createElement("div");e.className="d-lg-inline";e.innerHTML=categoryMap[a].categoryName;var f=document.createElement("a");f.href="#";f.id="addTableRow-"+a;f.className="d-lg-inline addTableRowListener align-self-center";var k=document.createElement("i");
k.className="material-icons displayCategoryAddIcon";k.innerHTML="add_circle_outline";f.appendChild(k);e.appendChild(f);d.appendChild(e);b.appendChild(d);d=document.createElement("div");d.className="d-lg-table-cell";b.appendChild(d);d=document.createElement("div");d.setAttribute("id","amountCategory-"+a);d.className=categoryMap[a].parentCategory==expenseCategory?"text-right category-text-danger font-weight-bold d-lg-table-cell amountCategoryId-"+a+" spendingCategory":"text-right category-text-success font-weight-bold d-lg-table-cell amountCategoryId-"+
a+" incomeCategory";d.innerHTML=categoryMap[a].parentCategory==expenseCategory?"-"+c:c;b.appendChild(d);c=document.createElement("div");c.setAttribute("id","budgetCategory-"+a);c.className="text-right d-lg-table-cell";b.appendChild(c);return b}function p(){var a=document.getElementById("manageTransactionButton");0<$(".number:checked").length?a.removeAttribute("disabled"):a.setAttribute("disabled","disabled")}function G(a,b){a=".hideableRow-"+lastElement(a);$(a).toggleClass("d-none").toggleClass("d-lg-table-row");
$($(b)[0].children[0]).toggleClass("dropdown-toggle",100,"easeInQuad").toggleClass("dropdown-toggle-right",100,"easeInQuad")}function m(a){JSON.parse(a.responseText).error.includes("Unauthorized")&&swal({title:"Session Expired!",text:"You will be redirected to the Login Page",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}).then(function(){location.reload()}).catch(swal.noop)}function h(a,b){isEmpty(b)&&(b="en-IN");return a.toLocaleString(b,{minimumFractionDigits:2,maximumFractionDigits:2})}
function M(a){var b=trimElement(a.innerText);if(isEqual(w,b)){var c=document.createElement("div");c.setAttribute("contenteditable",!0);c.tabIndex=0;c.className="descriptionDivCentering";c.innerHTML=b;a.innerHTML="";a.appendChild(c)}else a=splitElement($(a).attr("id"),"-"),c={},c.description=b,c.transactionId=a[a.length-1],$.ajax({type:"POST",url:transactionAPIUrl+currentUser.financialPortfolioId+transactionsUpdateUrl+"description",dataType:"json",data:c,error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")?
m(a):showNotification("Unable to change the description","top","center","danger")}});w=""}function N(a){var b=round(parseFloat(trimElement(lastElement(splitElement(a.innerText,g))).replace(/[^0-9.-]+/g,"")),2),c=parseFloat(lastElement(splitElement(q,g)).replace(/[^0-9.-]+/g,"")),d=splitElement($(a).attr("id"),"-");isNaN(b)||!H.test(b)||0==b?b=0:0>b&&(b=parseFloat(Math.abs(b),2));if(isNaN(c)||!H.test(c)||0==c)c=0;if(c!=b){var e=splitElement($(a).attr("id"),"-"),f={};f.amount=b;f.transactionId=e[e.length-
1];var k=parseFloat(b-c).toFixed(2);$.ajax({type:"POST",url:transactionAPIUrl+currentUser.financialPortfolioId+transactionsUpdateUrl+"transaction",dataType:"json",data:f,success:function(a){x(a.categoryId,k,!0)},error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")?m(a):showNotification("Unable to change the transacition amount","top","center","danger")}})}O(a,b);I(b,d);q=""}function I(a,b){b=document.getElementById("budgetTransactionsRow-"+b[b.length-1]);0==a||isNaN(a)?(b.innerHTML=
'\x3cbutton class\x3d"btn btn-danger btn-sm removeRowTransaction"\x3eRemove\x3c/button\x3e',b.classList.add("fadeInAnimation")):0<a&&null!=b&&(b.classList.add("fadeOutAnimation"),b.innerHTML="")}function x(a,b,c){a=document.getElementsByClassName("amountCategoryId-"+a);if(!isEmpty(a)){a=a[0];var d;d=a.innerText;var e=parseFloat(d.replace(/[^0-9.-]+/g,"")),e=Math.abs(e),f="";includesStr(d,"-")&&(f="-");d=round(parseFloat(parseFloat(e)+parseFloat(b)),2);replaceHTML(a,f+g+h(Number(d),currentUser.locale));
c&&(c=a.classList,c.contains("spendingCategory")?(b=round(parseFloat(trimElement(lastElement(splitElement($("#totalExpensesTransactions")[0].innerText,g))).replace(/[^0-9.-]+/g,"")),2)+round(parseFloat(b),2),replaceHTML("totalExpensesTransactions","-"+g+h(Number(b),currentUser.locale))):c.contains("incomeCategory")&&(b=round(parseFloat(trimElement(lastElement(splitElement($("#totalIncomeTransactions")[0].innerText,g))).replace(/[^0-9.-]+/g,"")),2)+round(parseFloat(b),2),replaceHTML("totalIncomeTransactions",
g+h(Number(b),currentUser.locale))),b=l($("#totalIncomeTransactions")[0].innerText),c=l($("#totalExpensesTransactions")[0].innerText),a="",f=b-c,0>f&&(a="-",f=Math.abs(f)),replaceHTML("totalAvailableTransactions",a+g+h(Number(f),currentUser.locale)),y.update(E(b,c)))}}function O(a,b){var c="";includesStr(q,"-")&&(c="-");b=c+g+h(b,currentUser.locale);c=document.createElement("div");c.className="text-right amountDivCentering";c.setAttribute("contenteditable",!0);c.tabIndex=0;c.innerHTML=trimElement(b).replace(/ +/g,
"");a.innerHTML="";a.appendChild(c)}function l(a){return round(parseFloat(trimElement(lastElement(splitElement(a,g))).replace(/[^0-9.-]+/g,"")),2)}function C(){var a=document.createElement("div");a.className="d-lg-table-row";var b=document.createElement("div");b.className="d-lg-table-cell";a.appendChild(b);b=document.createElement("div");b.className="d-lg-table-cell";a.appendChild(b);var b=document.createElement("div"),c=document.createElement("img");c.src="../img/dashboard/icons8-document-128.png";
b.appendChild(c);a.appendChild(b);b=document.createElement("div");b.className="d-lg-table-cell";c=document.createElement("p");c.className="text-secondary";c.innerHTML="There are no transactions yet. Start adding some to track your spending.";b.appendChild(c);a.appendChild(b);b=document.createElement("div");b.className="d-lg-table-cell";a.appendChild(b);b=document.createElement("div");b.className="d-lg-table-cell";a.appendChild(b);return a}function L(a,b){var c={donut:!0,donutWidth:50,donutSolid:!0,
startAngle:270,showLabel:!0,height:"230px"};replaceHTML(b,"");if(isNotEmpty(a)){y=new Chartist.Pie("#"+b,a,c);var d=document.getElementById("chartLegend");y.on("created",function(a){$(".ct-slice-donut-solid").on("mouseover",function(){d.classList.remove("d-none")});$(".ct-slice-donut-solid").on("mouseout",function(){d.classList.add("d-none")})})}}var w="",q="",n=!1,g=document.getElementById("currentCurrencySymbol").innerText;$sidebar=$(".sidebar");var H=/^[+-]?\d+(\.\d+)?$/,y="",F=function(){var a=
document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("class","drag-handle");a.setAttribute("height","20");a.setAttribute("width","9");a.setAttribute("viewBox","0 0 9 20");a.setAttribute("focusable",!1);var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("fill","#B6BEC2");b.setAttribute("d","M1.5 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0-6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0 12a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5-12a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z");
a.appendChild(b);return a}();A();expenseSelectionOptGroup=cloneElementAndAppend(document.getElementById("expenseSelection"),expenseSelectionOptGroup);incomeSelectionOptGroup=cloneElementAndAppend(document.getElementById("incomeSelection"),incomeSelectionOptGroup);var z=function(){var a=document.createElement("div");a.className="row justify-content-center";var b=document.createElement("div");b.className="svg-container";var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("class",
"ft-green-tick");c.setAttribute("height","20");c.setAttribute("width","20");c.setAttribute("viewBox","0 0 48 48");c.setAttribute("aria-hidden",!0);var d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("class","circle");d.setAttribute("fill","#5bb543");d.setAttribute("cx","24");d.setAttribute("cy","24");d.setAttribute("r","22");var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("class","tick");e.setAttribute("fill","none");e.setAttribute("stroke",
"#FFF");e.setAttribute("stroke-width","6");e.setAttribute("stroke-linecap","round");e.setAttribute("stroke-linejoin","round");e.setAttribute("stroke-miterlimit","10");e.setAttribute("d","M14 27l5.917 4.917L34 17");c.appendChild(d);c.appendChild(e);b.appendChild(c);c=document.createElement("p");c.className="green-icon margin-bottom-zero margin-left-five";c.innerHTML="Successfully added the transaction.";d=document.createElement("br");a.appendChild(b);a.appendChild(c);a.appendChild(d);return a}();$("#transactionsForm").submit(function(a){var b=
document.getElementById("transactionsFormButtonSubmission");b.setAttribute("disabled","disabled");J(a,b)});$("#GSCCModal").on("hidden.bs.modal",function(){$("#transactionsForm").get(0).reset();replaceHTML("successMessage","");replaceHTML("errorMessage","");n&&(A(),n=!1)});$("#transactionsTable").on("click",".number",function(){var a=$("#checkAll:checked");0<a.length&&a.prop("checked",!1);var a=$(".number:checked"),b=$(".number");a.length==b.length&&$("#checkAll").prop("checked",!0);p();$(this).parent().closest("div").parent().closest("div").parent().closest("div").toggleClass("background-snow",
300)});$("#checkAll").click(function(){$('input[type\x3d"checkbox"]').prop("checked",$(this).prop("checked"));p()});popup={showSwal:function(a){"warning-message-and-confirmation"==a&&swal({title:"Are you sure?",text:"You will not be able to recover these transactions!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).then(function(a){if(a.value){a=[];for(var b=
$("input[type\x3dcheckbox]:checked"),d=0,e=b.length;d<e;d++){var f=b[d].innerHTML;"on"!=f&&isNotBlank(f)&&a.push(f)}a.join(",");jQuery.ajax({url:transactionAPIUrl+currentUser.financialPortfolioId+"/"+a,type:"DELETE",success:function(){showNotification("Successfully deleted the selected transactions","top","center","success");if(0<$("#checkAll:checked").length)$("#checkAll").prop("checked",!1),document.getElementById("productsJson").innerHTML="",document.getElementById("productsJson").appendChild(C()),
D(0,0),p();else{var a=$(".number:checked").parent().closest("div").parent().closest("div").parent().closest("div");a.clone();a.fadeOut("slow",function(){$(this).remove();p()})}},error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")?m(a):showNotification("Unable to delete the transactions","top","center","danger")}})}})}};$("#transactionsTable").on("click",".toggle",function(){var a=splitElement($(this).attr("id"),"-");G(a,this)});$("#transactionsTable").on("focusin",".tableRowForSelectCategory",
function(){var a=$(this).parent().closest("div");null!=a&&0<a.length&&null!=a[0]&&null!=a[0].children&&4<=a[0].children.length&&null!=a[0].children[3]&&null!=a[0].children[3].children&&null!=a[0].children[3].children[1]&&a[0].children[3].children[1].remove();a[0].classList.add("tableRowTransactionHighlight")});$("#transactionsTable").on("focusout",".tableRowForSelectCategory",function(){$(this).parent().closest("div")[0].classList.remove("tableRowTransactionHighlight")});$("#transactionsTable").on("change",
".tableRowForSelectCategory",function(){var a=$(this).attr("id"),b=splitElement(a,"-"),c=0<$("#"+a).length?$("#"+a)[0].classList:null;if(!isEmpty(c)){var d={};d.categoryId=$(this).val();d.transactionId=b[b.length-1];$.ajax({type:"POST",url:transactionAPIUrl+currentUser.financialPortfolioId+transactionsUpdateUrl+"category",dataType:"json",data:d,success:function(b){for(var e="",d=0,g=c.length;d<g;d++){var h=c[d];includesStr(h,"categoryIdForSelect")&&(e=lastElement(splitElement(h,"-")),x(e,parseFloat("-"+
b.amount),!1))}d=document.getElementById(a);d.classList.remove("categoryIdForSelect-"+e);d.classList.add("categoryIdForSelect-"+b.categoryId);x(b.categoryId,b.amount,!1)},error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")?m(a):showNotification("Unable to change the category","top","center","danger")}})}});$("#transactionsTable").on("focusin",".transactionsTableDescription",function(){$('.transactionsTableDescription br[type\x3d"_moz"]').remove();w=trimElement(this.innerText);
$(this).parent().closest("div").addClass("tableRowTransactionHighlight")});$("#transactionsTable").on("focusout",".transactionsTableDescription",function(){M(this);$(this).parent().closest("div").removeClass("tableRowTransactionHighlight")});$("#transactionsTable").on("keyup",".transactionsTableDescription",function(a){if(13===(a.keyCode||a.which))return a.preventDefault(),$(this).blur(),!1});$("#transactionsTable").on("focusin",".amountTransactionsRow",function(){q=trimElement(this.innerText);$(this).parent().closest("div").addClass("tableRowTransactionHighlight")});
$("#transactionsTable").on("focusout",".amountTransactionsRow",function(){N(this);$(this).parent().closest("div").removeClass("tableRowTransactionHighlight")});$("#transactionsTable").on("keyup",".amountTransactionsRow",function(a){if(13===(a.keyCode||a.which))return a.preventDefault(),$(this).blur(),!1;a=l(this.innerText);var b=splitElement($(this).attr("id"),"-");I(a,b)});$("#transactionsTable").on("click",".removeRowTransaction",function(){var a=lastElement(splitElement($(this).parent().closest("div").attr("id"),
"-")),b=document.getElementById("budgetTransactionsRow-"+a);b.classList.add("fadeOutAnimation");jQuery.ajax({url:transactionAPIUrl+currentUser.financialPortfolioId+"/"+a,type:"DELETE",success:function(c){c=b.classList;for(var d=0,e=c.length;d<e;d++){var f=c[d];includesStr(f,"categoryIdForBudget")&&(previousCategoryId=lastElement(splitElement(f,"-")),0==l($(".amountCategoryId-"+previousCategoryId)[0].innerText)&&$(".amountCategoryId-"+previousCategoryId).parent().closest("div").fadeOut("slow",function(){$(this).remove()}))}c=
$("#budgetTransactionsRow-"+a).parent().closest("div");$(c).fadeOut("slow",function(){$(this).remove();p()})},error:function(b){JSON.parse(b.responseText).error.includes("Unauthorized")?m(b):(document.getElementById("budgetTransactionsRow-"+a).innerHTML='\x3cbutton class\x3d"btn btn-danger btn-sm removeRowTransaction"\x3eRemove\x3c/button\x3e',swal({title:"Unable to Delete!",text:"Please try again",type:"error",timer:1E3,showConfirmButton:!1}).catch(swal.noop))}})});window.onbeforeunload=function(a){};
$("#transactionsTable").on("click",".addTableRowListener",function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();var b=lastElement(splitElement($(this).attr("id"),"-"));a={amount:0,description:""};a.categoryOptions=b;$.ajax({type:"POST",url:saveTransactionsUrl+currentUser.financialPortfolioId,dataType:"json",data:a,success:function(a){var c=document.getElementById("categoryTableRow-"+a.categoryId),e=c.nextSibling,f=lastElement(splitElement(e.className," "));includesStr(f,
"d-none")&&G(b,c);c.parentNode.insertBefore(B(a,"d-lg-table-row",a.categoryId),e)},error:function(a){JSON.parse(a.responseText).error.includes("Unauthorized")?m(a):showNotification("Unable to add a new transaction","top","center","danger")}})})});